"use strict";function _typeof(obj){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var solver=function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==_typeof(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t){i.d(r,n,function(e){return t[e]}.bind(null,n))}return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)})(t)}function n(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,r=u(t);if(e){var n=u(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return l(this,i)}}function l(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e,i){return 0===i||"required"===i?null:(e=e||1,i=i||1,!1===t.isMinimization&&(e=-e),t.addVariable(e,"r"+t.relaxationIndex++,!1,!1,i))}i.r(e);var v=function t(e,i,r,n){c(this,t),this.id=e,this.cost=i,this.index=r,this.value=0,this.priority=n},f=function(t){a(i,t);var e=h(i);function i(t,r,n,s){return c(this,i),e.call(this,t,r,n,s)}return i}(v),p=function(t){a(i,t);var e=h(i);function i(t,r){return c(this,i),e.call(this,t,0,r,0)}return i}(v),y=function t(e,i){c(this,t),this.variable=e,this.coefficient=i},b=function(){function t(e,i,r,n){c(this,t),this.slack=new p("s"+r,r),this.index=r,this.model=n,this.rhs=e,this.isUpperBound=i,this.terms=[],this.termsByVarIndex={},this.relaxation=null}return s(t,[{key:"addTerm",value:function value(t,e){var i=e.index,r=this.termsByVarIndex[i];if(void 0===r)r=new y(e,t),this.termsByVarIndex[i]=r,this.terms.push(r),!0===this.isUpperBound&&(t=-t),this.model.updateConstraintCoefficient(this,e,t);else{var n=r.coefficient+t;this.setVariableCoefficient(n,e)}return this}},{key:"removeTerm",value:function value(t){return this}},{key:"setRightHandSide",value:function value(t){if(t!==this.rhs){var e=t-this.rhs;!0===this.isUpperBound&&(e=-e),this.rhs=t,this.model.updateRightHandSide(this,e)}return this}},{key:"setVariableCoefficient",value:function value(t,e){var i=e.index;if(-1!==i){var r=this.termsByVarIndex[i];if(void 0===r)this.addTerm(t,e);else if(t!==r.coefficient){var n=t-r.coefficient;!0===this.isUpperBound&&(n=-n),r.coefficient=t,this.model.updateConstraintCoefficient(this,e,n)}return this}console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.")}},{key:"relax",value:function value(t,e){this.relaxation=d(this.model,t,e),this._relax(this.relaxation)}},{key:"_relax",value:function value(t){null!==t&&(this.isUpperBound?this.setVariableCoefficient(-1,t):this.setVariableCoefficient(1,t))}}]),t}(),m=function(){function t(e,i){c(this,t),this.upperBound=e,this.lowerBound=i,this.model=e.model,this.rhs=e.rhs,this.relaxation=null}return s(t,[{key:"addTerm",value:function value(t,e){return this.upperBound.addTerm(t,e),this.lowerBound.addTerm(t,e),this}},{key:"removeTerm",value:function value(t){return this.upperBound.removeTerm(t),this.lowerBound.removeTerm(t),this}},{key:"setRightHandSide",value:function value(t){this.upperBound.setRightHandSide(t),this.lowerBound.setRightHandSide(t),this.rhs=t}},{key:"relax",value:function value(t,e){this.relaxation=d(this.model,t,e),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)}}]),t}();function x(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var I=function(){function t(e,i,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.feasible=r,this.evaluation=i,this.bounded=n,this._tableau=e}var e,i,r;return e=t,(i=[{key:"generateSolutionSet",value:function value(){for(var t={},e=this._tableau,i=e.varIndexByRow,r=e.variablesPerIndex,n=e.matrix,s=e.rhsColumn,a=e.height-1,o=Math.round(1/e.precision),h=1;h<=a;h+=1){var l=r[i[h]];if(!(void 0===l||l instanceof p)){var u=n[h][s];t[l.id]=Math.round((Number.EPSILON+u)*o)/o}}return t}}])&&x(e.prototype,i),r&&x(e,r),t}();function g(t){return(g="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)})(t)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var i,r=V(t);if(e){var n=V(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return C(this,i)}}function C(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}(i,t);var e=B(i);function i(t,r,n,s,a){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(o=e.call(this,t,r,n,s)).iter=a,o}return i}(I);function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e,i){return e&&k(t.prototype,e),i&&k(t,i),t}var R=function(){function t(e,i){_(this,t),this.priority=e,this.reducedCosts=new Array(i);for(var r=0;r<i;r+=1){this.reducedCosts[r]=0}}return j(t,[{key:"copy",value:function value(){var e=new t(this.priority,this.reducedCosts.length);return e.reducedCosts=this.reducedCosts.slice(),e}}]),t}(),M=function(){function t(e){_(this,t),this.model=null,this.matrix=null,this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars=null,this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=null,this.varIndexByCol=null,this.rowByVarIndex=null,this.colByVarIndex=null,this.precision=e||1e-8,this.optionalObjectives=[],this.objectivesByPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=null,this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0}return j(t,[{key:"solve",value:function value(){return this.model.getNumberOfIntegerVariables()>0?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()}},{key:"setOptionalObjective",value:function value(t,e,i){var r=this.objectivesByPriority[t];if(void 0===r){var n=Math.max(this.width,e+1);r=new R(t,n),this.objectivesByPriority[t]=r,this.optionalObjectives.push(r),this.optionalObjectives.sort(function(t,e){return t.priority-e.priority})}r.reducedCosts[e]=i}},{key:"initialize",value:function value(t,e,i,r){this.variables=i,this.unrestrictedVars=r,this.width=t,this.height=e;for(var n=new Array(t),s=0;s<t;s++){n[s]=0}this.matrix=new Array(e);for(var a=0;a<e;a++){this.matrix[a]=n.slice()}this.varIndexByRow=new Array(this.height),this.varIndexByCol=new Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=t+e-2,this.rowByVarIndex=new Array(this.nVars),this.colByVarIndex=new Array(this.nVars),this.lastElementIndex=this.nVars}},{key:"_resetMatrix",value:function value(){for(var t,e=this.model.variables,i=this.model.constraints,r=e.length,n=this.matrix[0],s=!0===this.model.isMinimization?-1:1,a=0;a<r;a+=1){var o=e[a],h=o.priority,l=s*o.cost;0===h?n[a+1]=l:this.setOptionalObjective(h,a+1,l),t=e[a].index,this.rowByVarIndex[t]=-1,this.colByVarIndex[t]=a+1,this.varIndexByCol[a+1]=t}for(var u=0,c=1;u<i.length;u++){var d=i[u],v=d.index;this.rowByVarIndex[v]=c,this.colByVarIndex[v]=-1,this.varIndexByRow[c]=v;var f=void 0,p=d.terms,y=p.length,b=this.matrix[c++];if(d.isUpperBound){for(var m=0;m<y;m+=1){f=p[m],b[this.colByVarIndex[f.variable.index]]=f.coefficient}b[0]=d.rhs}else{for(var x=0;x<y;x+=1){f=p[x],b[this.colByVarIndex[f.variable.index]]=-f.coefficient}b[0]=-d.rhs}}}},{key:"setModel",value:function value(t){this.model=t;var e=t.variables.length+1,i=t.constraints.length+1;return this.initialize(e,i,t.variables,t.unrestrictedVariables),this._resetMatrix(),this}},{key:"getNewElementIndex",value:function value(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t}},{key:"density",value:function value(){for(var t=0,e=this.matrix,i=0;i<this.height;i++){for(var r=e[i],n=0;n<this.width;n++){0!==r[n]&&(t+=1)}}return t/(this.height*this.width)}},{key:"setEvaluation",value:function value(){var t=Math.round(1/this.precision),e=this.matrix[this.costRowIndex][this.rhsColumn],i=Math.round((Number.EPSILON+e)*t)/t;this.evaluation=i,0===this.simplexIters&&(this.bestPossibleEval=i)}},{key:"getSolution",value:function value(){var t=!0===this.model.isMinimization?this.evaluation:-this.evaluation;return this.model.getNumberOfIntegerVariables()>0?new O(this,t,this.feasible,this.bounded,this.branchAndCutIterations):new I(this,t,this.feasible,this.bounded)}}]),t}();M.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},M.prototype.phase1=function(){for(var t=this.model.checkForCycles,e=[],i=this.matrix,r=this.rhsColumn,n=this.width-1,s=this.height-1,a=0;;){for(var o=0,h=-this.precision,l=1;l<=s;l++){!0===this.unrestrictedVars[this.varIndexByRow[l]];var u=i[l][r];u<h&&(h=u,o=l)}if(0===o)return this.feasible=!0,a;for(var c=0,d=-1/0,v=i[0],f=i[o],p=1;p<=n;p++){var y=f[p];if(!0===this.unrestrictedVars[this.varIndexByCol[p]]||y<-this.precision){var b=-v[p]/y;d<b&&(d=b,c=p)}}if(0===c)return this.feasible=!1,a;if(t){e.push([this.varIndexByRow[o],this.varIndexByCol[c]]);var m=this.checkForCycles(e);if(m.length>0)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+m[0]),this.model.messages.push("Length :"+m[1]),this.feasible=!1,a}this.pivot(o,c),a+=1}},M.prototype.phase2=function(){for(var t,e,i=this.model.checkForCycles,r=[],n=this.matrix,s=this.rhsColumn,a=this.width-1,o=this.height-1,h=this.precision,l=this.optionalObjectives.length,u=null,c=0;;){var d=n[this.costRowIndex];l>0&&(u=[]);for(var v=0,f=h,p=!1,y=1;y<=a;y++){t=d[y],e=!0===this.unrestrictedVars[this.varIndexByCol[y]],l>0&&-h<t&&t<h?u.push(y):e&&t<0?-t>f&&(f=-t,v=y,p=!0):t>f&&(f=t,v=y,p=!1)}if(l>0)for(var b=0;0===v&&u.length>0&&b<l;){var m=[],x=this.optionalObjectives[b].reducedCosts;f=h;for(var I=0;I<u.length;I++){t=x[y=u[I]],e=!0===this.unrestrictedVars[this.varIndexByCol[y]],-h<t&&t<h?m.push(y):e&&t<0?-t>f&&(f=-t,v=y,p=!0):t>f&&(f=t,v=y,p=!1)}u=m,b+=1}if(0===v)return this.setEvaluation(),this.simplexIters+=1,c;for(var g=0,w=1/0,B=1;B<=o;B++){var C=n[B],V=C[s],O=C[v];if(!(-h<O&&O<h)){if(O>0&&h>V&&V>-h){w=0,g=B;break}var _=p?-V/O:V/O;_>h&&w>_&&(w=_,g=B)}}if(w===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[v],c;if(i){r.push([this.varIndexByRow[g],this.varIndexByCol[v]]);var k=this.checkForCycles(r);if(k.length>0)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+k[0]),this.model.messages.push("Length :"+k[1]),this.feasible=!1,c}this.pivot(g,v,!0),c+=1}};var S=[];function E(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}M.prototype.pivot=function(t,e){var i=this.matrix,r=i[t][e],n=this.height-1,s=this.width-1,a=this.varIndexByRow[t],o=this.varIndexByCol[e];this.varIndexByRow[t]=o,this.varIndexByCol[e]=a,this.rowByVarIndex[o]=t,this.rowByVarIndex[a]=-1,this.colByVarIndex[o]=-1,this.colByVarIndex[a]=e;for(var h,l,u,c=i[t],d=0,v=0;v<=s;v++){c[v]>=-1e-16&&c[v]<=1e-16?c[v]=0:(c[v]/=r,S[d]=v,d+=1)}c[e]=1/r;for(var f=0;f<=n;f++){if(f!==t&&!(i[f][e]>=-1e-16&&i[f][e]<=1e-16)){var p=i[f];if((h=p[e])>=-1e-16&&h<=1e-16)0!==h&&(p[e]=0);else{for(l=0;l<d;l++){(u=c[v=S[l]])>=-1e-16&&u<=1e-16?0!==u&&(c[v]=0):p[v]=p[v]-h*u}p[e]=-h/r}}}var y=this.optionalObjectives.length;if(y>0)for(var b=0;b<y;b+=1){var m=this.optionalObjectives[b].reducedCosts;if(0!==(h=m[e])){for(l=0;l<d;l++){0!==(u=c[v=S[l]])&&(m[v]=m[v]-h*u)}m[e]=-h/r}}},M.prototype.checkForCycles=function(t){for(var e=0;e<t.length-1;e++){for(var i=e+1;i<t.length;i++){var r=t[e],n=t[i];if(r[0]===n[0]&&r[1]===n[1]){if(i-e>t.length-i)break;for(var s=!0,a=1;a<i-e;a++){var o=t[e+a],h=t[i+a];if(o[0]!==h[0]||o[1]!==h[1]){s=!1;break}}if(s)return[e,i-e]}}}return[]},M.prototype.addCutConstraints=function(t){for(var e=t.length,i=this.height,r=i+e,n=i;n<r;n+=1){void 0===this.matrix[n]&&(this.matrix[n]=this.matrix[n-1].slice())}this.height=r,this.nVars=this.width+this.height-2;for(var s=this.width-1,a=0;a<e;a+=1){var o=t[a],h=i+a,l="min"===o.type?-1:1,u=o.varIndex,c=this.rowByVarIndex[u],d=this.matrix[h];if(-1===c){d[this.rhsColumn]=l*o.value;for(var v=1;v<=s;v+=1){d[v]=0}d[this.colByVarIndex[u]]=l}else{var f=this.matrix[c],y=f[this.rhsColumn];d[this.rhsColumn]=l*(o.value-y);for(var b=1;b<=s;b+=1){d[b]=-l*f[b]}}var m=this.getNewElementIndex();this.varIndexByRow[h]=m,this.rowByVarIndex[m]=h,this.colByVarIndex[m]=-1,this.variablesPerIndex[m]=new p("s"+m,m),this.nVars+=1}},M.prototype._addLowerBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;var e=this.matrix;if(!(this.variablesPerIndex[this.varIndexByRow[t]]instanceof f))return!1;var i=e[t][this.rhsColumn],r=i-Math.floor(i);if(r<this.precision||1-this.precision<r)return!1;var n=this.height;e[n]=e[n-1].slice(),this.height+=1,this.nVars+=1;var s=this.getNewElementIndex();this.varIndexByRow[n]=s,this.rowByVarIndex[s]=n,this.colByVarIndex[s]=-1,this.variablesPerIndex[s]=new p("s"+s,s),e[n][this.rhsColumn]=Math.floor(i);for(var a=1;a<this.varIndexByCol.length;a+=1){if(this.variablesPerIndex[this.varIndexByCol[a]]instanceof f){var o=e[t][a],h=Math.floor(o)+Math.max(0,o-Math.floor(o)-r)/(1-r);e[n][a]=h}else e[n][a]=Math.min(0,e[t][a]/(1-r))}for(var l=0;l<this.width;l+=1){e[n][l]-=e[t][l]}return!0},M.prototype._addUpperBoundMIRCut=function(t){if(t===this.costRowIndex)return!1;var e=this.matrix;if(!(this.variablesPerIndex[this.varIndexByRow[t]]instanceof f))return!1;var i=e[t][this.rhsColumn],r=i-Math.floor(i);if(r<this.precision||1-this.precision<r)return!1;var n=this.height;e[n]=e[n-1].slice(),this.height+=1,this.nVars+=1;var s=this.getNewElementIndex();this.varIndexByRow[n]=s,this.rowByVarIndex[s]=n,this.colByVarIndex[s]=-1,this.variablesPerIndex[s]=new p("s"+s,s),e[n][this.rhsColumn]=-r;for(var a=1;a<this.varIndexByCol.length;a+=1){var o=this.variablesPerIndex[this.varIndexByCol[a]],h=e[t][a],l=h-Math.floor(h);e[n][a]=o instanceof f?l<=r?-l:-(1-l)*r/l:h>=0?-h:h*r/(1-r)}return!0},M.prototype.applyMIRCuts=function(){},M.prototype._putInBase=function(t){var e=this.rowByVarIndex[t];if(-1===e){for(var i=this.colByVarIndex[t],r=1;r<this.height;r+=1){var n=this.matrix[r][i];if(n<-this.precision||this.precision<n){e=r;break}}this.pivot(e,i)}return e},M.prototype._takeOutOfBase=function(t){var e=this.colByVarIndex[t];if(-1===e){for(var i=this.rowByVarIndex[t],r=this.matrix[i],n=1;n<this.height;n+=1){var s=r[n];if(s<-this.precision||this.precision<s){e=n;break}}this.pivot(i,e)}return e},M.prototype.updateVariableValues=function(){for(var t=Math.round(1/this.precision),e=0;e<this.variables.length;e+=1){var i=this.variables[e],r=i.index,n=this.rowByVarIndex[r];if(-1===n)i.value=0;else{var s=this.matrix[n][this.rhsColumn];i.value=Math.round((s+Number.EPSILON)*t)/t}}},M.prototype.updateRightHandSide=function(t,e){var i=this.height-1,r=this.rowByVarIndex[t.index];if(-1===r){for(var n=this.colByVarIndex[t.index],s=0;s<=i;s+=1){var a=this.matrix[s];a[this.rhsColumn]-=e*a[n]}var o=this.optionalObjectives.length;if(o>0)for(var h=0;h<o;h+=1){var l=this.optionalObjectives[h].reducedCosts;l[this.rhsColumn]-=e*l[n]}}else this.matrix[r][this.rhsColumn]-=e},M.prototype.updateConstraintCoefficient=function(t,e,i){if(t.index===e.index)throw new Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var r=this._putInBase(t.index),n=this.colByVarIndex[e.index];if(-1===n)for(var s=this.rowByVarIndex[e.index],a=0;a<this.width;a+=1){this.matrix[r][a]+=i*this.matrix[s][a]}else this.matrix[r][n]-=i},M.prototype.updateCost=function(t,e){var i=t.index,r=this.width-1,n=this.colByVarIndex[i];if(-1===n){var s=this.matrix[this.rowByVarIndex[i]];if(0===t.priority)for(var a=this.matrix[0],o=0;o<=r;o+=1){a[o]+=e*s[o]}else for(var h=this.objectivesByPriority[t.priority].reducedCosts,l=0;l<=r;l+=1){h[l]+=e*s[l]}}else this.matrix[0][n]-=e},M.prototype.addConstraint=function(t){var e=t.isUpperBound?1:-1,i=this.height,r=this.matrix[i];void 0===r&&(r=this.matrix[0].slice(),this.matrix[i]=r);for(var n=this.width-1,s=0;s<=n;s+=1){r[s]=0}r[this.rhsColumn]=e*t.rhs;for(var a=t.terms,o=0;o<a.length;o+=1){var h=a[o],l=h.coefficient,u=h.variable.index,c=this.rowByVarIndex[u];if(-1===c)r[this.colByVarIndex[u]]+=e*l;else for(var d=this.matrix[c],v=0;v<=n;v+=1){r[v]-=e*l*d[v]}}var f=t.index;this.varIndexByRow[i]=f,this.rowByVarIndex[f]=i,this.colByVarIndex[f]=-1,this.height+=1},M.prototype.removeConstraint=function(t){var e=t.index,i=this.height-1,r=this._putInBase(e),n=this.matrix[i];this.matrix[i]=this.matrix[r],this.matrix[r]=n,this.varIndexByRow[r]=this.varIndexByRow[i],this.varIndexByRow[i]=-1,this.rowByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.slack.index=-1,this.height-=1},M.prototype.addVariable=function(t){var e=this.height-1,i=this.width,r=!0===this.model.isMinimization?-t.cost:t.cost,n=t.priority,s=this.optionalObjectives.length;if(s>0)for(var a=0;a<s;a+=1){this.optionalObjectives[a].reducedCosts[i]=0}0===n?this.matrix[0][i]=r:(this.setOptionalObjective(n,i,r),this.matrix[0][i]=0);for(var o=1;o<=e;o+=1){this.matrix[o][i]=0}var h=t.index;this.varIndexByCol[i]=h,this.rowByVarIndex[h]=-1,this.colByVarIndex[h]=i,this.width+=1},M.prototype.removeVariable=function(t){var e=t.index,i=this._takeOutOfBase(e),r=this.width-1;if(i!==r){for(var n=this.height-1,s=0;s<=n;s+=1){var a=this.matrix[s];a[i]=a[r]}var o=this.optionalObjectives.length;if(o>0)for(var h=0;h<o;h+=1){var l=this.optionalObjectives[h].reducedCosts;l[i]=l[r]}var u=this.varIndexByCol[r];this.varIndexByCol[i]=u,this.colByVarIndex[u]=i}this.varIndexByCol[r]=-1,this.colByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.index=-1,this.width-=1},M.prototype.log=function(t,e){console.log("****",t,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);for(var i,r,n,s,a,o,h,l="",u=[" "],c=1;c<this.width;c+=1){r=this.varIndexByCol[c],s=" ",a="\t",(n=void 0===(i=this.variablesPerIndex[r])?"c"+r:i.id).length>5?s+=" ":a+="\t",u[c]=s,l+=a+n}console.log(l);for(var d=this.matrix[this.costRowIndex],v="\t",f=1;f<this.width;f+=1){v+="\t",v+=u[f],v+=d[f].toFixed(5)}v+="\t"+u[0]+d[0].toFixed(5),console.log(v+"\tZ");for(var p=1;p<this.height;p+=1){o=this.matrix[p],h="\t";for(var y=1;y<this.width;y+=1){h+="\t"+u[y]+o[y].toFixed(5)}h+="\t"+u[0]+o[0].toFixed(5),r=this.varIndexByRow[p],n=void 0===(i=this.variablesPerIndex[r])?"c"+r:i.id,console.log(h+"\t"+n)}if(console.log(""),this.optionalObjectives.length>0){console.log("    Optional objectives:");for(var b=0;b<this.optionalObjectives.length;b+=1){for(var m=this.optionalObjectives[b].reducedCosts,x="",I=1;I<this.width;I+=1){x+=m[I]<0?"":" ",x+=u[I],x+=m[I].toFixed(5)}x+=(m[0]<0?"":" ")+u[0]+m[0].toFixed(5),console.log(x+" z"+b)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this},M.prototype.copy=function(){var t=new M(this.precision);t.width=this.width,t.height=this.height,t.nVars=this.nVars,t.model=this.model,t.variables=this.variables,t.variablesPerIndex=this.variablesPerIndex,t.unrestrictedVars=this.unrestrictedVars,t.lastElementIndex=this.lastElementIndex,t.varIndexByRow=this.varIndexByRow.slice(),t.varIndexByCol=this.varIndexByCol.slice(),t.rowByVarIndex=this.rowByVarIndex.slice(),t.colByVarIndex=this.colByVarIndex.slice(),t.availableIndexes=this.availableIndexes.slice();for(var e=[],i=0;i<this.optionalObjectives.length;i++){e[i]=this.optionalObjectives[i].copy()}t.optionalObjectives=e;for(var r=this.matrix,n=new Array(this.height),s=0;s<this.height;s++){n[s]=r[s].slice()}return t.matrix=n,t},M.prototype.save=function(){this.savedState=this.copy()},M.prototype.restore=function(){if(null!==this.savedState){var t=this.savedState,e=t.matrix;this.nVars=t.nVars,this.model=t.model,this.variables=t.variables,this.variablesPerIndex=t.variablesPerIndex,this.unrestrictedVars=t.unrestrictedVars,this.lastElementIndex=t.lastElementIndex,this.width=t.width,this.height=t.height;for(var i=0;i<this.height;i+=1){for(var r=e[i],n=this.matrix[i],s=0;s<this.width;s+=1){n[s]=r[s]}}for(var a=t.varIndexByRow,o=0;o<this.height;o+=1){this.varIndexByRow[o]=a[o]}for(;this.varIndexByRow.length>this.height;){this.varIndexByRow.pop()}for(var h=t.varIndexByCol,l=0;l<this.width;l+=1){this.varIndexByCol[l]=h[l]}for(;this.varIndexByCol.length>this.width;){this.varIndexByCol.pop()}for(var u=t.rowByVarIndex,c=t.colByVarIndex,d=0;d<this.nVars;d+=1){this.rowByVarIndex[d]=u[d],this.colByVarIndex[d]=c[d]}if(t.optionalObjectives.length>0&&this.optionalObjectives.length>0){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(var v=0;v<t.optionalObjectives.length;v++){var f=t.optionalObjectives[v].copy();this.optionalObjectives[v]=f,this.optionalObjectivePerPriority[f.priority]=f}}}};var P=function t(e,i,r){E(this,t),this.type=e,this.varIndex=i,this.value=r},z=function t(e,i){E(this,t),this.relaxedEvaluation=e,this.cuts=i};M.prototype.applyCuts=function(t){if(this.restore(),this.addCutConstraints(t),this.simplex(),this.model.useMIRCuts)for(var e=!0;e;){var i=this.computeFractionalVolume(!0);this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0)>=.9*i&&(e=!1)}},M.prototype.branchAndCut=function(){function t(t,e){return e.relaxedEvaluation-t.relaxedEvaluation}var e=[],i=0,r=this.model.tolerance,n=!0,s=1e99;this.model.timeout&&(s=Date.now()+this.model.timeout);for(var a=1/0,o=null,h=[],l=0;l<this.optionalObjectives.length;l+=1){h.push(1/0)}var u,c=new z(-1/0,[]);for(e.push(c);e.length>0&&!0===n&&Date.now()<s;){if(u=this.model.isMinimization?this.bestPossibleEval*(1+r):this.bestPossibleEval*(1-r),r>0&&a<u&&(n=!1),!((c=e.pop()).relaxedEvaluation>a)){var d=c.cuts;if(this.applyCuts(d),i++,!1!==this.feasible){var v=this.evaluation;if(!(v>a)){if(v===a){for(var f=!0,p=0;p<this.optionalObjectives.length&&!(this.optionalObjectives[p].reducedCosts[0]>h[p]);p+=1){if(this.optionalObjectives[p].reducedCosts[0]<h[p]){f=!1;break}}if(f)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===i)return void(this.branchAndCutIterations=i);o=c,a=v;for(var y=0;y<this.optionalObjectives.length;y+=1){h[y]=this.optionalObjectives[y].reducedCosts[0]}if(this.model.keep_solutions){var b=this.model.tableau.getSolution(),m=b.generateSolutionSet();m.result=b.evaluation,this.model.solutions||(this.model.solutions=[]),this.model.solutions.push(m)}}else{1===i&&this.save();for(var x=this.getMostFractionalVar(),I=x.index,g=[],w=[],B=0;B<d.length;B+=1){var C=d[B];C.varIndex===I?"min"===C.type?w.push(C):g.push(C):(g.push(C),w.push(C))}var V=Math.ceil(x.value),O=Math.floor(x.value),_=new P("min",I,V);g.push(_);var k=new P("max",I,O);w.push(k),e.push(new z(v,g)),e.push(new z(v,w)),e.sort(t)}}}}}null!==o&&this.applyCuts(o.cuts),this.branchAndCutIterations=i};var T=function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.index=e,this.value=i};M.prototype.getMostFractionalVar=function(){for(var t=0,e=null,i=null,r=this.model.integerVariables,n=0;n<r.length;n++){var s=r[n].index,a=this.rowByVarIndex[s];if(-1!==a){var o=this.matrix[a][this.rhsColumn],h=Math.abs(o-Math.round(o));t<h&&(t=h,e=s,i=o)}}return new T(e,i)},M.prototype.getFractionalVarWithLowestCost=function(){for(var t=1/0,e=null,i=null,r=this.model.integerVariables,n=0;n<r.length;n++){var s=r[n],a=s.index,o=this.rowByVarIndex[a];if(-1!==o){var h=this.matrix[o][this.rhsColumn];if(Math.abs(h-Math.round(h))>this.precision){var l=s.cost;t>l&&(t=l,e=a,i=h)}}}return new T(e,i)},M.prototype.countIntegerValues=function(){for(var t=0,e=1;e<this.height;e+=1){if(this.variablesPerIndex[this.varIndexByRow[e]]instanceof f){var i=this.matrix[e][this.rhsColumn];(i-=Math.floor(i))<this.precision&&-i<this.precision&&(t+=1)}}return t},M.prototype.isIntegral=function(){for(var t=this.model.integerVariables,e=0;e<t.length;e++){var i=this.rowByVarIndex[t[e].index];if(-1!==i){var r=this.matrix[i][this.rhsColumn];if(Math.abs(r-Math.round(r))>this.precision)return!1}}return!0},M.prototype.computeFractionalVolume=function(t){for(var e=-1,i=1;i<this.height;i+=1){if(this.variablesPerIndex[this.varIndexByRow[i]]instanceof f){var r=Math.abs(this.matrix[i][this.rhsColumn]);if(Math.min(r-Math.floor(r),Math.floor(r+1))<this.precision){if(!t)return 0}else-1===e?e=r:e*=r}}return-1===e?0:e};var F=M;function N(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var A=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.tableau=new F(e),this.name=i,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[]}var e,i,r;return e=t,(i=[{key:"minimize",value:function value(){return this.isMinimization=!0,this}},{key:"maximize",value:function value(){return this.isMinimization=!1,this}},{key:"_getNewElementIndex",value:function value(){if(this.availableIndexes.length>0)return this.availableIndexes.pop();var t=this.lastElementIndex;return this.lastElementIndex+=1,t}},{key:"_addConstraint",value:function value(t){var e=t.slack;this.tableau.variablesPerIndex[e.index]=e,this.constraints.push(t),!0===this.tableauInitialized&&this.tableau.addConstraint(t)}},{key:"smallerThan",value:function value(t){var e=new b(t,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e}},{key:"greaterThan",value:function value(t){var e=new b(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(e),e}},{key:"equal",value:function value(t){var e=new b(t,!0,this.tableau.getNewElementIndex(),this);this._addConstraint(e);var i=new b(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(i),new m(e,i)}},{key:"addVariable",value:function value(t,e,i,r,n){if("string"==typeof n)switch(n){case"required":n=0;break;case"strong":n=1;break;case"medium":n=2;break;case"weak":n=3;break;default:n=0;}var s=this.tableau.getNewElementIndex();null==e&&(e="v"+s),null==t&&(t=0),null==n&&(n=0);var a=void 0;return i?(a=new f(e,t,s,n),this.integerVariables.push(a)):a=new v(e,t,s,n),this.variables.push(a),this.tableau.variablesPerIndex[s]=a,r&&(this.unrestrictedVariables[s]=!0),!0===this.tableauInitialized&&this.tableau.addVariable(a),a}},{key:"_removeConstraint",value:function value(t){var e=this.constraints.indexOf(t);-1!==e?(this.constraints.splice(e,1),!0===this.tableauInitialized&&this.tableau.removeConstraint(t),t.relaxation&&this.removeVariable(t.relaxation)):console.warn("[Model.removeConstraint] Constraint not present in model")}},{key:"removeConstraint",value:function value(t){return t instanceof m?(this._removeConstraint(t.upperBound),this._removeConstraint(t.lowerBound)):this._removeConstraint(t),this}},{key:"removeVariable",value:function value(t){var e=this.variables.indexOf(t);if(-1!==e)return this.variables.splice(e,1),!0===this.tableauInitialized&&this.tableau.removeVariable(t),this;console.warn("[Model.removeVariable] Variable not present in model")}},{key:"updateRightHandSide",value:function value(t,e){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(t,e),this}},{key:"updateConstraintCoefficient",value:function value(t,e,i){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(t,e,i),this}},{key:"setCost",value:function value(t,e){var i=t-e.cost;return!1===this.isMinimization&&(i=-i),e.cost=t,this.tableau.updateCost(e,i),this}},{key:"loadJson",value:function value(t){this.isMinimization="max"!==t.opType;for(var e=t.variables,i=t.constraints,r={},n={},s=Object.keys(i),a=0;a<s.length;a++){var o=s[a],h=i[o],l=h.equal,u=h.weight,c=h.priority,d=void 0!==u||void 0!==c,v=void 0,f=void 0;if(void 0===l){var p=h.min;void 0!==p&&(v=this.greaterThan(p),r[o]=v,d&&v.relax(u,c));var y=h.max;void 0!==y&&(f=this.smallerThan(y),n[o]=f,d&&f.relax(u,c))}else{v=this.greaterThan(l),r[o]=v,f=this.smallerThan(l),n[o]=f;var b=new m(v,f);d&&b.relax(u,c)}}var x=Object.keys(e);this.tolerance=t.tolerance||0,t.timeout&&(this.timeout=t.timeout),t.options&&(t.options.timeout&&(this.timeout=t.options.timeout),0===this.tolerance&&(this.tolerance=t.options.tolerance||0),t.options.useMIRCuts&&(this.useMIRCuts=t.options.useMIRCuts),void 0===t.options.exitOnCycles?this.checkForCycles=!0:this.checkForCycles=t.options.exitOnCycles,t.options.keep_solutions?this.keep_solutions=t.options.keep_solutions:this.keep_solutions=!1);for(var I=t.ints||{},g=t.binaries||{},w=t.unrestricted||{},B=t.optimize,C=0;C<x.length;C++){var V=x[C],O=e[V],_=O[B]||0,k=!!g[V],j=!!I[V]||k,R=!!w[V],M=this.addVariable(_,V,j,R);k&&this.smallerThan(1).addTerm(1,M);for(var S=Object.keys(O),E=0;E<S.length;E+=1){var P=S[E];if(P!==B){var z=O[P],T=r[P];void 0!==T&&T.addTerm(z,M);var F=n[P];void 0!==F&&F.addTerm(z,M)}}}return this}},{key:"getNumberOfIntegerVariables",value:function value(){return this.integerVariables.length}},{key:"solve",value:function value(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()}},{key:"isFeasible",value:function value(){return this.tableau.feasible}},{key:"save",value:function value(){return this.tableau.save()}},{key:"restore",value:function value(){return this.tableau.restore()}},{key:"activateMIRCuts",value:function value(t){this.useMIRCuts=t}},{key:"debug",value:function value(t){this.checkForCycles=t}},{key:"log",value:function value(t){return this.tableau.log(t)}}])&&N(e.prototype,i),r&&N(e,r),t}();function q(t,e){var i,r=e.optimize,n=JSON.parse(JSON.stringify(e.optimize)),s=Object.keys(e.optimize),a=0,o={},h="",l={},u=[];delete e.optimize;for(var c=0;c<s.length;c++){n[s[c]]=0}for(var d=0;d<s.length;d++){for(var v in e.optimize=s[d],e.opType=r[s[d]],i=t.Solve(e,void 0,void 0,!0),s){if(!e.variables[s[v]])for(var f in i[s[v]]=i[s[v]]?i[s[v]]:0,e.variables){e.variables[f][s[v]]&&i[f]&&(i[s[v]]+=i[f]*e.variables[f][s[v]])}}h="base";for(var p=0;p<s.length;p++){i[s[p]]?h+="-"+(1e3*i[s[p]]|0)/1e3:h+="-0"}if(!o[h]){o[h]=1,a++;for(var y=0;y<s.length;y++){i[s[y]]&&(n[s[y]]+=i[s[y]])}delete i.feasible,delete i.result,u.push(i)}}for(var b=0;b<s.length;b++){e.constraints[s[b]]={equal:n[s[b]]/a}}for(var m in e.optimize="cheater-"+Math.random(),e.opType="max",e.variables){e.variables[m].cheater=1}for(var x in u){for(var I in u[x]){l[I]=l[I]||{min:1e99,max:-1e99}}}for(var g in l){for(var w in u){u[w][g]?(u[w][g]>l[g].max&&(l[g].max=u[w][g]),u[w][g]<l[g].min&&(l[g].min=u[w][g])):(u[w][g]=0,l[g].min=0)}}return{midpoint:i=t.Solve(e,void 0,void 0,!0),vertices:u,ranges:l}}function H(t){return t.length?function(t){var e={is_blank:/^\W{0,}$/,is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},i={opType:"",optimize:"_obj",constraints:{},variables:{}},r={">=":"min","<=":"max","=":"equal"};"string"==typeof t&&(t=t.split("\n"));for(var n=function n(_n){var s="__"+_n,a=t[_n];if(e.is_objective.test(a))i.opType=a.match(/(max|min)/gi)[0],a.match(e.parse_lhs).map(function(t){return t.replace(/\s+/,"")}).slice(1).forEach(function(t){var r=t.match(e.get_num);r=null===r?"-"===t.substr(0,1)?-1:1:r[0],r=parseFloat(r);var n=t.match(e.get_word)[0].replace(/\;$/,"");i.variables[n]=i.variables[n]||{},i.variables[n]._obj=r});else if(e.is_int.test(a)){var o=a.match(e.parse_int).slice(1);i.ints=i.ints||{},o.forEach(function(t){t=t.replace(";",""),i.ints[t]=1})}else if(e.is_bin.test(a)){var h=a.match(e.parse_bin).slice(1);i.binaries=i.binaries||{},h.forEach(function(t){t=t.replace(";",""),i.binaries[t]=1})}else if(e.is_constraint.test(a)){var l=a.indexOf(":");(-1===l?a:a.slice(l+1)).match(e.parse_lhs).map(function(t){return t.replace(/\s+/,"")}).forEach(function(t){var r=t.match(e.get_num);r=null===r?"-"===t.substr(0,1)?-1:1:r[0],r=parseFloat(r);var n=t.match(e.get_word)[0];i.variables[n]=i.variables[n]||{},i.variables[n][s]=r});var u=parseFloat(a.match(e.parse_rhs)[0]);a=r[a.match(e.parse_dir)[0]],i.constraints[s]=i.constraints[s]||{},i.constraints[s][a]=u}else if(e.is_unrestricted.test(a)){var c=a.match(e.parse_int).slice(1);i.unrestricted=i.unrestricted||{},c.forEach(function(t){t=t.replace(";",""),i.unrestricted[t]=1})}},s=0;s<t.length;s++){n(s)}return i}(t):function(t){if(!t)throw new Error("Solver requires a model to operate on");var e="",i={max:"<=",min:">=",equal:"="},r=new RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(t.opType)for(var n in e+=t.opType+":",t.variables){t.variables[n][n]=t.variables[n][n]?t.variables[n][n]:1,t.variables[n][t.optimize]&&(e+=" "+t.variables[n][t.optimize]+" "+n.replace(r,"_"))}else e+="max:";for(var s in e+=";\n\n",t.constraints){for(var a in t.constraints[s]){if(void 0!==i[a]){for(var o in t.variables){void 0!==t.variables[o][s]&&(e+=" "+t.variables[o][s]+" "+o.replace(r,"_"))}e+=" "+i[a]+" "+t.constraints[s][a],e+=";\n"}}}if(t.ints)for(var h in e+="\n\n",t.ints){e+="int "+h.replace(r,"_")+";\n"}if(t.unrestricted)for(var l in e+="\n\n",t.unrestricted){e+="unrestricted "+l.replace(r,"_")+";\n"}return e}(t)}var L=[function(t){var e,i,r;if("string"==typeof t.optimize){if(t.constraints[t.optimize]){for(i in e=Math.random(),t.variables){t.variables[i][t.optimize]&&(t.variables[i][e]=t.variables[i][t.optimize])}return t.constraints[e]=t.constraints[t.optimize],delete t.constraints[t.optimize],t}return t}for(r in t.optimize){if(t.constraints[r])if("equal"===t.constraints[r])delete t.optimize[r];else{for(i in e=Math.random(),t.variables){t.variables[i][r]&&(t.variables[i][e]=t.variables[i][r])}t.constraints[e]=t.constraints[r],delete t.constraints[r]}}return t}];function U(t){return(U="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)})(t)}function W(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var J=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.lastSolvedModel=null}var e,i,r;return e=t,(i=[{key:"Solve",value:function value(t,e,i,r){if(r)for(var n in L){t=L[n](t)}if(!t)throw new Error("Solver requires a model to operate on");if("object"===U(t.optimize)&&Object.keys(t.optimize>1))return q(this,t);t instanceof A==0&&(t=new A(e).loadJson(t));var s=t.solve();if(this.lastSolvedModel=t,s.solutionSet=s.generateSolutionSet(),i)return s;var a={};return a.feasible=s.feasible,a.result=s.evaluation,a.bounded=s.bounded,s._tableau.__isIntegral&&(a.isIntegral=!0),Object.keys(s.solutionSet).forEach(function(t){0!==s.solutionSet[t]&&(a[t]=s.solutionSet[t])}),a}},{key:"ReformatLP",value:function value(t){return H(t)}},{key:"MultiObjective",value:function value(t){return q(this,t)}}])&&W(e.prototype,i),r&&W(e,r),t}());e["default"]=J}]);"object"==(typeof exports==="undefined"?"undefined":_typeof(exports))&&(module.exports=solver["default"]);
//# sourceMappingURL=solver.js.map
