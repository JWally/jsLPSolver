"object"==typeof exports&&(module.exports=require("./src/main")),function r(s,a,n){function o(e,t){if(!a[e]){if(!s[e]){var i="function"==typeof require&&require;if(!t&&i)return i(e,!0);if(l)return l(e,!0);throw(t=new Error("Cannot find module '"+e+"'")).code="MODULE_NOT_FOUND",t}i=a[e]={exports:{}},s[e][0].call(i.exports,function(t){return o(s[e][1][t]||t)},i,i.exports,r,s,a,n)}return a[e].exports}for(var l="function"==typeof require&&require,t=0;t<n.length;t++)o(n[t]);return o}({1:[function(t,e,i){e.exports=function(t){if(t.length){var e=t,i={is_blank:/^\W{0,}$/,is_objective:/(max|min)(imize){0,}\:/i,is_int:/^(?!\/\*)\W{0,}int/i,is_bin:/^(?!\/\*)\W{0,}bin/i,is_constraint:/(\>|\<){0,}\=/i,is_unrestricted:/^\S{0,}unrestricted/i,parse_lhs:/(\-|\+){0,1}\s{0,1}\d{0,}\.{0,}\d{0,}\s{0,}[A-Za-z]\S{0,}/gi,parse_rhs:/(\-|\+){0,1}\d{1,}\.{0,}\d{0,}\W{0,}\;{0,1}$/i,parse_dir:/(\>|\<){0,}\=/gi,parse_int:/[^\s|^\,]+/gi,parse_bin:/[^\s|^\,]+/gi,get_num:/(\-|\+){0,1}(\W|^)\d+\.{0,1}\d{0,}/g,get_word:/[A-Za-z].*/},r={opType:"",optimize:"_obj",constraints:{},variables:{}},s={">=":"min","<=":"max","=":"equal"},a="",n=null,o="",l="";"string"==typeof e&&(e=e.split("\n"));for(var h=0;h<e.length;h++){var u,d="__"+h,a=e[h];n=null,i.is_objective.test(a)?(r.opType=a.match(/(max|min)/gi)[0],(n=a.match(i.parse_lhs).map(function(t){return t.replace(/\s+/,"")}).slice(1)).forEach(function(t){o=null===(o=t.match(i.get_num))?"-"===t.substr(0,1)?-1:1:o[0],o=parseFloat(o),l=t.match(i.get_word)[0].replace(/\;$/,""),r.variables[l]=r.variables[l]||{},r.variables[l]._obj=o})):i.is_int.test(a)?(n=a.match(i.parse_int).slice(1),r.ints=r.ints||{},n.forEach(function(t){t=t.replace(";",""),r.ints[t]=1})):i.is_bin.test(a)?(n=a.match(i.parse_bin).slice(1),r.binaries=r.binaries||{},n.forEach(function(t){t=t.replace(";",""),r.binaries[t]=1})):i.is_constraint.test(a)?((n=(-1===(u=a.indexOf(":"))?a:a.slice(u+1)).match(i.parse_lhs).map(function(t){return t.replace(/\s+/,"")})).forEach(function(t){o=null===(o=t.match(i.get_num))?"-"===t.substr(0,1)?-1:1:o[0],o=parseFloat(o),l=t.match(i.get_word)[0],r.variables[l]=r.variables[l]||{},r.variables[l][d]=o}),u=parseFloat(a.match(i.parse_rhs)[0]),a=s[a.match(i.parse_dir)[0]],r.constraints[d]=r.constraints[d]||{},r.constraints[d][a]=u):i.is_unrestricted.test(a)&&(n=a.match(i.parse_int).slice(1),r.unrestricted=r.unrestricted||{},n.forEach(function(t){t=t.replace(";",""),r.unrestricted[t]=1}))}return r}var c=t;if(!c)throw new Error("Solver requires a model to operate on");var f,v="",p={max:"<=",min:">=",equal:"="},b=new RegExp("[^A-Za-z0-9_[{}/.&#$%~'@^]","gi");if(c.opType)for(var x in v+=c.opType+":",c.variables)c.variables[x][x]=c.variables[x][x]||1,c.variables[x][c.optimize]&&(v+=" "+c.variables[x][c.optimize]+" "+x.replace(b,"_"));else v+="max:";for(f in v+=";\n\n",c.constraints)for(var m in c.constraints[f])if(void 0!==p[m]){for(var y in c.variables)void 0!==c.variables[y][f]&&(v+=" "+c.variables[y][f]+" "+y.replace(b,"_"));v=v+(" "+p[m]+" "+c.constraints[f][m])+";\n"}if(c.ints)for(var I in v+="\n\n",c.ints)v+="int "+I.replace(b,"_")+";\n";if(c.unrestricted)for(var g in v+="\n\n",c.unrestricted)v+="unrestricted "+g.replace(b,"_")+";\n";return v}},{}],2:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});let s=r(t("./Tableau/Tableau")),P=(t("./Tableau/branchAndCut"),t("./Tableau/backup"),t("./Tableau/cuttingStrategies"),t("./Tableau/dynamicModification"),t("./Tableau/integerProperties"),t("./Tableau/branchingStrategies"),t("./Tableau/log"),t("./Tableau/simplex"),t("./expressions"));i.default=class{constructor(t,e){this.tableau=new s.default(t),this.name=e,this.variables=[],this.integerVariables=[],this.unrestrictedVariables={},this.constraints=[],this.nConstraints=0,this.nVariables=0,this.isMinimization=!0,this.tableauInitialized=!1,this.relaxationIndex=1,this.useMIRCuts=!1,this.checkForCycles=!0,this.messages=[],this.availableIndexes=[],this.lastElementIndex=0}minimize(){return this.isMinimization=!0,this}maximize(){return this.isMinimization=!1,this}_getNewElementIndex(){var t;return 0<this.availableIndexes.length?this.availableIndexes.pop():(t=this.lastElementIndex,this.lastElementIndex+=1,t)}_addConstraint(t){var e=t.slack;this.tableau.variablesPerIndex[e.index]=e,this.constraints.push(t),this.nConstraints+=1,!0===this.tableauInitialized&&this.tableau.addConstraint(t)}smallerThan(t){t=new P.Constraint(t,!0,this.tableau.getNewElementIndex(),this);return this._addConstraint(t),t}greaterThan(t){t=new P.Constraint(t,!1,this.tableau.getNewElementIndex(),this);return this._addConstraint(t),t}equal(t){var e=new P.Constraint(t,!0,this.tableau.getNewElementIndex(),this),t=(this._addConstraint(e),new P.Constraint(t,!1,this.tableau.getNewElementIndex(),this));return this._addConstraint(t),new P.Equality(e,t)}addVariable(t,e,i,r,s){if("string"==typeof s)switch(s){case"required":s=0;break;case"strong":s=1;break;case"medium":s=2;break;case"weak":s=3;break;default:s=0}var a=this.tableau.getNewElementIndex(),e=null!=e?e:"v"+a,t=null!=t?t:0,n=null!=s?s:0;let o;return o=i?(i=new P.IntegerVariable(e,t,a,n),this.integerVariables.push(i),i):new P.Variable(e,t,a,n),this.variables.push(o),this.tableau.variablesPerIndex[a]=o,r&&(this.unrestrictedVariables[a]=!0),this.nVariables+=1,!0===this.tableauInitialized&&this.tableau.addVariable(o),o}_removeConstraint(t){var e=this.constraints.indexOf(t);-1===e?console.warn("[Model.removeConstraint] Constraint not present in model"):(this.constraints.splice(e,1),--this.nConstraints,!0===this.tableauInitialized&&this.tableau.removeConstraint(t),t.relaxation&&this.removeVariable(t.relaxation))}removeConstraint(t){var e;return t.isEquality?(this._removeConstraint((e=t).upperBound),this._removeConstraint(e.lowerBound)):this._removeConstraint(t),this}removeVariable(t){var e=this.variables.indexOf(t);if(-1!==e)return this.variables.splice(e,1),!0===this.tableauInitialized&&this.tableau.removeVariable(t),this;console.warn("[Model.removeVariable] Variable not present in model")}updateRightHandSide(t,e){return!0===this.tableauInitialized&&this.tableau.updateRightHandSide(t,e),this}updateConstraintCoefficient(t,e,i){return!0===this.tableauInitialized&&this.tableau.updateConstraintCoefficient(t,e,i),this}setCost(t,e){let i=t-e.cost;return!1===this.isMinimization&&(i=-i),e.cost=t,this.tableau.updateCost(e,i),this}loadJson(t){this.isMinimization="max"!==t.opType;var e=t.variables,r=t.constraints,s={},a={},n=Object.keys(r),o=n.length;for(let i=0;i<o;i+=1){var l,h=n[i],u=r[h],d=u.equal,c=u.weight,f=u.priority,v=void 0!==c||void 0!==f;let t,e;void 0===d?(void 0!==(l=u.min)&&(t=this.greaterThan(l),s[h]=t,v)&&t.relax(c,f),void 0!==(l=u.max)&&(e=this.smallerThan(l),a[h]=e,v)&&e.relax(c,f)):(t=this.greaterThan(d),s[h]=t,e=this.smallerThan(d),a[h]=e,u=new P.Equality(t,e),v&&u.relax(c,f))}var i=Object.keys(e),p=i.length,b=(this.tolerance=t.tolerance||0,t.timeout&&(this.timeout=t.timeout),t.options&&(t.options.timeout&&(this.timeout=t.options.timeout),0===this.tolerance&&(this.tolerance=t.options.tolerance||0),t.options.useMIRCuts&&(this.useMIRCuts=t.options.useMIRCuts),void 0===t.options.exitOnCycles?this.checkForCycles=!0:this.checkForCycles=t.options.exitOnCycles,t.options.keep_solutions?this.keep_solutions=t.options.keep_solutions:this.keep_solutions=!1),t.ints||{}),x=t.binaries||{},m=t.unrestricted||{},y=t.optimize;for(let t=0;t<p;t+=1){var I=i[t],g=e[I],w=g[y]||0,_=!!x[I],C=!!b[I]||_,B=!!m[I],V=this.addVariable(w,I,C,B),M=(_&&this.smallerThan(1).addTerm(1,V),Object.keys(g));for(let t=0;t<M.length;t+=1){var O,j,T=M[t];T!==y&&(O=g[T],void 0!==(j=s[T])&&j.addTerm(O,V),void 0!==(j=a[T]))&&j.addTerm(O,V)}}return this}getNumberOfIntegerVariables(){return this.integerVariables.length}solve(){return!1===this.tableauInitialized&&(this.tableau.setModel(this),this.tableauInitialized=!0),this.tableau.solve()}isFeasible(){return this.tableau.feasible}save(){this.tableau.save()}restore(){this.tableau.restore()}activateMIRCuts(t){this.useMIRCuts=t}debug(t){this.checkForCycles=t}log(t){return this.tableau.log(t)}}},{"./Tableau/Tableau":6,"./Tableau/backup":7,"./Tableau/branchAndCut":8,"./Tableau/branchingStrategies":9,"./Tableau/cuttingStrategies":10,"./Tableau/dynamicModification":11,"./Tableau/integerProperties":13,"./Tableau/log":14,"./Tableau/simplex":15,"./expressions":17}],3:[function(t,e,i){function x(t){if(t&&"object"==typeof t)return t;throw new Error("Polyopt requires the solver to return an object result.")}Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(t,e){var i=(t=>JSON.parse(JSON.stringify(t)))(e),r=i.optimize,s=Object.keys(r);if(0===s.length)throw new Error("Multi-objective solve requires at least one objective definition.");var e=i,a=(delete e.optimize,delete e.opType,{}),n=new Set,o=[];for(var l of s)a[l]=0;for(var h of s){i.optimize=h,i.opType=r[h];var u=x(t.Solve(i,void 0,void 0,!0)),h=(((t,e,i)=>{for(var r of i)if(!e.variables[r]){"number"!=typeof t[r]&&(t[r]=0);for(var[s,a]of Object.entries(e.variables)){a=a[r],s=t[s];"number"==typeof a&&"number"==typeof s&&(t[r]+=s*a)}}})(u,i,s),((e,t)=>"base-"+(t=t.map(t=>{t=e[t];return"number"==typeof t?Math.round(1e3*t)/1e3:0}).join("-")))(u,s));if(!n.has(h)){n.add(h);for(var d of s){var c=u[d];"number"==typeof c&&(a[d]+=c)}let{feasible:t,result:e,bounded:i,...r}=u;o.push(r)}}for(var f of s)i.constraints[f]={equal:a[f]/n.size};var v="cheater-"+Math.random();i.optimize=v,i.opType="max";for(var p of Object.values(i.variables))p[v]=1;var e=(t=>{var e,i,r,s,a,n={};for(e of t)for(var[o,l]of Object.entries(e))"number"==typeof l&&(i=null!=(i=n[o])?i:{min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},n[o]={min:Math.min(i.min,l),max:Math.max(i.max,l)});for(r of t)for(var h of Object.keys(n))"number"!=typeof r[h]&&(r[h]=0),n[h].min=Math.min(n[h].min,r[h]),n[h].max=Math.max(n[h].max,r[h]);for([s,a]of Object.entries(n))Number.isFinite(a.min)||(n[s]={min:0,max:0});return n})(o),b=x(t.Solve(i,void 0,void 0,!0));return{midpoint:b,vertices:o,ranges:e}}},{}],4:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=(Object.defineProperty(i,"__esModule",{value:!0}),r(t("./Solution")));class s extends r.default{constructor(t,e,i,r,s){super(t,e,i,r),this.iter=s}}i.default=s},{"./Solution":5}],5:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});i.default=class{constructor(t,e,i,r){this.feasible=i,this.evaluation=e,this.bounded=r,this._tableau=t,this.solutionSet={}}generateSolutionSet(){var e={},t=this._tableau,i=t.varIndexByRow,r=t.variablesPerIndex,s=t.matrix,a=t.rhsColumn,n=t.height-1,o=Math.round(1/t.precision);for(let t=1;t<=n;t+=1){var l,h=r[i[t]];void 0!==h&&!0!==h.isSlack&&(l=s[t][a],e[h.id]=Math.round((Number.EPSILON+l)*o)/o)}return e}}},{}],6:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});let s=r(t("./MilpSolution")),a=r(t("./Solution")),n=(t,e,i)=>({priority:t,reducedCosts:i?i.slice():new Array(e).fill(0),copy(){return n(this.priority,this.reducedCosts.length,this.reducedCosts)}});i.default=class{constructor(t=1e-8){this.model=null,this.matrix=[],this.width=0,this.height=0,this.costRowIndex=0,this.rhsColumn=0,this.variablesPerIndex=[],this.unrestrictedVars={},this.feasible=!0,this.evaluation=0,this.simplexIters=0,this.varIndexByRow=[],this.varIndexByCol=[],this.rowByVarIndex=[],this.colByVarIndex=[],this.precision=t,this.optionalObjectives=[],this.objectivesByPriority={},this.optionalObjectivePerPriority={},this.savedState=null,this.availableIndexes=[],this.lastElementIndex=0,this.variables=[],this.nVars=0,this.bounded=!0,this.unboundedVarIndex=null,this.branchAndCutIterations=0,this.bestPossibleEval=0}solve(){var t;return null!=(t=null==(t=this.model)?void 0:t.getNumberOfIntegerVariables())&&t?this.branchAndCut():this.simplex(),this.updateVariableValues(),this.getSolution()}setOptionalObjective(t,e,i){let r=this.objectivesByPriority[t];var s;void 0===r&&(s=Math.max(this.width,e+1),r=n(t,s),this.objectivesByPriority[t]=r,this.optionalObjectivePerPriority[t]=r,this.optionalObjectives.push(r),this.optionalObjectives.sort(function(t,e){return t.priority-e.priority})),r.reducedCosts[e]=i}initialize(t,e,i,r){this.variables=i,this.unrestrictedVars=r,this.width=t,this.height=e;var s=new Array(t).fill(0);this.matrix=new Array(e);for(let t=0;t<e;t++)this.matrix[t]=s.slice();this.varIndexByRow=new Array(this.height),this.varIndexByCol=new Array(this.width),this.varIndexByRow[0]=-1,this.varIndexByCol[0]=-1,this.nVars=t+e-2,this.rowByVarIndex=new Array(this.nVars),this.colByVarIndex=new Array(this.nVars),this.lastElementIndex=this.nVars}_resetMatrix(){if(null===this.model)throw new Error("[Tableau._resetMatrix] Model not set");var t=this.model.variables,e=this.model.constraints,i=t.length,r=e.length;let s;var a=this.matrix[0],n=!0===this.model.isMinimization?-1:1;for(s=0;s<i;s+=1){var o=t[s],l=o.priority,o=n*o.cost;0===l?a[s+1]=o:this.setOptionalObjective(l,s+1,o),l=t[s].index,this.rowByVarIndex[l]=-1,this.colByVarIndex[l]=s+1,this.varIndexByCol[s+1]=l}let h=1;for(let t=0;t<r;t+=1){var u=e[t],d=u.index,c=(this.rowByVarIndex[d]=h,this.colByVarIndex[d]=-1,this.varIndexByRow[h]=d,u.terms),f=c.length,v=this.matrix[h++];if(u.isUpperBound){for(let t=0;t<f;t+=1){var p=c[t];v[this.colByVarIndex[p.variable.index]]=p.coefficient}v[0]=u.rhs}else{for(let t=0;t<f;t+=1){var b=c[t];v[this.colByVarIndex[b.variable.index]]=-b.coefficient}v[0]=-u.rhs}}}setModel(t){var e=(this.model=t).nVariables+1;return this.initialize(e,t.nConstraints+1,t.variables,t.unrestrictedVariables),this._resetMatrix(),this}getNewElementIndex(){var t;return 0<this.availableIndexes.length?this.availableIndexes.pop():(t=this.lastElementIndex,this.lastElementIndex+=1,t)}density(){let e=0;var i=this.matrix;for(let t=0;t<this.height;t++){var r=i[t];for(let t=0;t<this.width;t++)0!==r[t]&&(e+=1)}return e/(this.height*this.width)}setEvaluation(){var t=Math.round(1/this.precision),e=this.matrix[this.costRowIndex][this.rhsColumn],e=Math.round((Number.EPSILON+e)*t)/t;this.evaluation=e,0===this.simplexIters&&(this.bestPossibleEval=e)}getSolution(){var t,e=!0===(null==(e=this.model)?void 0:e.isMinimization)?this.evaluation:-this.evaluation;return 0<(null!=(t=null==(t=this.model)?void 0:t.getNumberOfIntegerVariables())?t:0)?new s.default(this,e,this.feasible,this.bounded,this.branchAndCutIterations):new a.default(this,e,this.feasible,this.bounded)}}},{"./MilpSolution":4,"./Solution":5}],7:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});let s=r(t("./Tableau"));s.default.prototype.copy=function(){(t=new s.default(this.precision)).width=this.width,t.height=this.height,t.nVars=this.nVars,t.model=this.model,t.variables=this.variables,t.variablesPerIndex=this.variablesPerIndex,t.unrestrictedVars=this.unrestrictedVars,t.lastElementIndex=this.lastElementIndex,t.varIndexByRow=this.varIndexByRow.slice(),t.varIndexByCol=this.varIndexByCol.slice(),t.rowByVarIndex=this.rowByVarIndex.slice(),t.colByVarIndex=this.colByVarIndex.slice(),t.availableIndexes=this.availableIndexes.slice();var t,e=[];for(let t=0;t<this.optionalObjectives.length;t++)e[t]=this.optionalObjectives[t].copy();t.optionalObjectives=e,t.objectivesByPriority={...this.objectivesByPriority},t.optionalObjectivePerPriority={...this.optionalObjectivePerPriority};var i=this.matrix,r=new Array(this.height);for(let t=0;t<this.height;t++)r[t]=i[t].slice();return t.matrix=r,t},s.default.prototype.save=function(){this.savedState=this.copy()},s.default.prototype.restore=function(){if(null!==this.savedState){var e=this.savedState,i=e.matrix;this.nVars=e.nVars,this.model=e.model,this.variables=e.variables,this.variablesPerIndex=e.variablesPerIndex,this.unrestrictedVars=e.unrestrictedVars,this.lastElementIndex=e.lastElementIndex,this.width=e.width,this.height=e.height;for(let t=0;t<this.height;t+=1){var r=i[t],s=this.matrix[t];for(let t=0;t<this.width;t+=1)s[t]=r[t]}var a=e.varIndexByRow;for(let t=0;t<this.height;t+=1)this.varIndexByRow[t]=a[t];for(;this.varIndexByRow.length>this.height;)this.varIndexByRow.pop();var n=e.varIndexByCol;for(let t=0;t<this.width;t+=1)this.varIndexByCol[t]=n[t];for(;this.varIndexByCol.length>this.width;)this.varIndexByCol.pop();var o=e.rowByVarIndex,l=e.colByVarIndex;for(let t=0;t<this.nVars;t+=1)this.rowByVarIndex[t]=o[t],this.colByVarIndex[t]=l[t];if(0<e.optionalObjectives.length&&0<this.optionalObjectives.length){this.optionalObjectives=[],this.optionalObjectivePerPriority={};for(let t=0;t<e.optionalObjectives.length;t++){var h=e.optionalObjectives[t].copy();this.optionalObjectives[t]=h,this.optionalObjectivePerPriority[h.priority]=h,this.objectivesByPriority[h.priority]=h}}}}},{"./Tableau":6}],8:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=(Object.defineProperty(i,"__esModule",{value:!0}),r(t("./Tableau")));function y(t,e,i){return{type:t,varIndex:e,value:i}}function I(t,e){return{relaxedEvaluation:t,cuts:e}}function g(t,e){return e.relaxedEvaluation-t.relaxedEvaluation}i.default.prototype.applyCuts=function(t){if(this.restore(),this.addCutConstraints(t),this.simplex(),this.model.useMIRCuts){let t=!0;for(;t;){var e=this.computeFractionalVolume(!0),i=(this.applyMIRCuts(),this.simplex(),this.computeFractionalVolume(!0));.9*e<=i&&(t=!1)}}},i.default.prototype.branchAndCut=function(){var t,e=[];let i=0;var r=null!=(t=this.model.tolerance)?t:0;let s=!0,a=1e99,n=(this.model.timeout&&(a=Date.now()+this.model.timeout),1/0),o=null;var l=[];for(let t=0;t<this.optionalObjectives.length;t+=1)l.push(1/0);let h;for(e.push(I(-1/0,[]));0<e.length&&!0===s&&Date.now()<a;){h=this.model.isMinimization?this.bestPossibleEval*(1+r):this.bestPossibleEval*(1-r),0<r&&n<h&&(s=!1);var u=e.pop();if(!(u.relaxedEvaluation>n)){var d=u.cuts;if(this.applyCuts(d),i++,!1!==this.feasible){var c=this.evaluation;if(!(c>n)){if(c===n){let e=!0;for(let t=0;t<this.optionalObjectives.length&&!(this.optionalObjectives[t].reducedCosts[0]>l[t]);t+=1)if(this.optionalObjectives[t].reducedCosts[0]<l[t]){e=!1;break}if(e)continue}if(!0===this.isIntegral()){if(this.__isIntegral=!0,1===i)return void(this.branchAndCutIterations=i);o=u,n=c;for(let t=0;t<this.optionalObjectives.length;t+=1)l[t]=this.optionalObjectives[t].reducedCosts[0];this.model.keep_solutions&&((m=(u=this.model.tableau.getSolution()).generateSolutionSet()).result=u.evaluation,this.model.solutions||(this.model.solutions=[]),this.model.solutions.push(m))}else{1===i&&this.save();var u=this.getMostFractionalVar(),f=u.index,v=[],p=[],b=d.length;for(let t=0;t<b;t+=1){var x=d[t];(x.varIndex===f?"min"===x.type?p:v:(v.push(x),p)).push(x)}var m=Math.ceil(u.value),u=Math.floor(u.value),u=(v.push(y("min",f,m)),y("max",f,u));p.push(u),e.push(I(c,v)),e.push(I(c,p)),e.sort(g)}}}}}null!==o&&this.applyCuts(o.cuts),this.branchAndCutIterations=i}},{"./Tableau":6}],9:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=(Object.defineProperty(i,"__esModule",{value:!0}),r(t("./Tableau")));i.default.prototype.getMostFractionalVar=function(){let e=0,i=null,r=null;var s=this.model.integerVariables,a=s.length;for(let t=0;t<a;t++){var n,o=s[t].index,l=this.rowByVarIndex[o];-1!==l&&(l=this.matrix[l][this.rhsColumn],n=Math.abs(l-Math.round(l)),e<n)&&(e=n,i=o,r=l)}return{index:i,value:r}},i.default.prototype.getFractionalVarWithLowestCost=function(){let e=1/0,i=null,r=null;var s=this.model.integerVariables,a=s.length;for(let t=0;t<a;t++){var n,o=s[t],l=o.index,h=this.rowByVarIndex[l];-1!==h&&(h=this.matrix[h][this.rhsColumn],Math.abs(h-Math.round(h))>this.precision&&(n=o.cost,e>n))&&(e=n,i=l,r=h)}return{index:i,value:r}}},{"./Tableau":6}],10:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=(Object.defineProperty(i,"__esModule",{value:!0}),r(t("./Tableau")));let f=t("../expressions");i.default.prototype.addCutConstraints=function(e){var i=e.length,r=this.height,s=r+i;for(let t=r;t<s;t+=1)void 0===this.matrix[t]&&(this.matrix[t]=this.matrix[t-1].slice());this.height=s,this.nVars=this.width+this.height-2;var a=this.width-1;for(let t=0;t<i;t+=1){var n=e[t],o=r+t,l="min"===n.type?-1:1,h=n.varIndex,u=this.rowByVarIndex[h],d=this.matrix[o];if(-1===u){d[this.rhsColumn]=l*n.value;for(let t=1;t<=a;t+=1)d[t]=0;d[this.colByVarIndex[h]]=l}else{var c=this.matrix[u],h=c[this.rhsColumn];d[this.rhsColumn]=l*(n.value-h);for(let t=1;t<=a;t+=1)d[t]=-l*c[t]}u=this.getNewElementIndex();this.varIndexByRow[o]=u,this.rowByVarIndex[u]=o,this.colByVarIndex[u]=-1,this.variablesPerIndex[u]=new f.SlackVariable("s"+u,u),this.nVars+=1}},i.default.prototype._addLowerBoundMIRCut=function(e){if(e===this.costRowIndex)return!1;var i=this.matrix,t=this.variablesPerIndex[this.varIndexByRow[e]];if(null==t||!t.isInteger)return!1;var t=i[e][this.rhsColumn],r=t-Math.floor(t);if(r<this.precision||1-this.precision<r)return!1;var s=this.height,a=(i[s]=i[s-1].slice(),this.height+=1,this.nVars+=1,this.getNewElementIndex());this.varIndexByRow[s]=a,this.rowByVarIndex[a]=s,this.colByVarIndex[a]=-1,this.variablesPerIndex[a]=new f.SlackVariable("s"+a,a),i[s][this.rhsColumn]=Math.floor(t);for(let t=1;t<this.varIndexByCol.length;t+=1){var n=this.variablesPerIndex[this.varIndexByCol[t]];null!=n&&n.isInteger?(n=i[e][t],n=Math.floor(n)+Math.max(0,n-Math.floor(n)-r)/(1-r),i[s][t]=n):i[s][t]=Math.min(0,i[e][t]/(1-r))}for(let t=0;t<this.width;t+=1)i[s][t]-=i[e][t];return!0},i.default.prototype._addUpperBoundMIRCut=function(e){if(e===this.costRowIndex)return!1;var i=this.matrix,t=this.variablesPerIndex[this.varIndexByRow[e]];if(null==t||!t.isInteger)return!1;var t=i[e][this.rhsColumn],r=t-Math.floor(t);if(r<this.precision||1-this.precision<r)return!1;var s=this.height,t=(i[s]=i[s-1].slice(),this.height+=1,this.nVars+=1,this.getNewElementIndex());this.varIndexByRow[s]=t,this.rowByVarIndex[t]=s,this.colByVarIndex[t]=-1,this.variablesPerIndex[t]=new f.SlackVariable("s"+t,t),i[s][this.rhsColumn]=-r;for(let t=1;t<this.varIndexByCol.length;t+=1){var a=this.variablesPerIndex[this.varIndexByCol[t]],n=i[e][t],o=n-Math.floor(n);null!=a&&a.isInteger?i[s][t]=o<=r?-o:-(1-o)*r/o:i[s][t]=0<=n?-n:n*r/(1-r)}return!0},i.default.prototype.applyMIRCuts=function(){}},{"../expressions":17,"./Tableau":6}],11:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=(Object.defineProperty(i,"__esModule",{value:!0}),r(t("./Tableau")));i.default.prototype._putInBase=function(t){let e=this.rowByVarIndex[t];if(-1===e){var i=this.colByVarIndex[t];for(let t=1;t<this.height;t+=1){var r=this.matrix[t][i];if(r<-this.precision||this.precision<r){e=t;break}}this.pivot(e,i)}return e},i.default.prototype._takeOutOfBase=function(t){let e=this.colByVarIndex[t];if(-1===e){var t=this.rowByVarIndex[t],i=this.matrix[t];for(let t=1;t<this.height;t+=1){var r=i[t];if(r<-this.precision||this.precision<r){e=t;break}}this.pivot(t,e)}return e},i.default.prototype.updateVariableValues=function(){var e=this.variables.length,i=Math.round(1/this.precision);for(let t=0;t<e;t+=1){var r=this.variables[t],s=r.index,s=this.rowByVarIndex[s];-1===s?r.value=0:(s=this.matrix[s][this.rhsColumn],r.value=Math.round((s+Number.EPSILON)*i)/i)}},i.default.prototype.updateRightHandSide=function(t,e){var i=this.height-1,r=this.rowByVarIndex[t.index];if(-1===r){var s=this.colByVarIndex[t.index];for(let t=0;t<=i;t+=1){var a=this.matrix[t];a[this.rhsColumn]-=e*a[s]}var n=this.optionalObjectives.length;if(0<n)for(let t=0;t<n;t+=1){var o=this.optionalObjectives[t].reducedCosts;o[this.rhsColumn]-=e*o[s]}}else this.matrix[r][this.rhsColumn]-=e},i.default.prototype.updateConstraintCoefficient=function(t,e,i){if(t.index===e.index)throw new Error("[Tableau.updateConstraintCoefficient] constraint index should not be equal to variable index !");var r=this._putInBase(t.index),t=this.colByVarIndex[e.index];if(-1===t){var s=this.rowByVarIndex[e.index];for(let t=0;t<this.width;t+=1)this.matrix[r][t]+=i*this.matrix[s][t]}else this.matrix[r][t]-=i},i.default.prototype.updateCost=function(t,e){var i=t.index,r=this.width-1,s=this.colByVarIndex[i];if(-1===s){var a=this.matrix[this.rowByVarIndex[i]];if(0===t.priority){var n=this.matrix[0];for(let t=0;t<=r;t+=1)n[t]+=e*a[t]}else{var o=this.objectivesByPriority[t.priority].reducedCosts;for(let t=0;t<=r;t+=1)o[t]+=e*a[t]}}else this.matrix[0][s]-=e},i.default.prototype.addConstraint=function(t){var e=t.isUpperBound?1:-1,i=this.height;let r=this.matrix[i];void 0===r&&(r=this.matrix[0].slice(),this.matrix[i]=r);var s=this.width-1;for(let t=0;t<=s;t+=1)r[t]=0;r[this.rhsColumn]=e*t.rhs;var a=t.terms,n=a.length;for(let t=0;t<n;t+=1){var o=a[t],l=o.coefficient,o=o.variable.index,h=this.rowByVarIndex[o];if(-1===h)r[this.colByVarIndex[o]]+=e*l;else{var u=this.matrix[h];for(let t=0;t<=s;t+=1)r[t]-=e*l*u[t]}}t=t.index;this.varIndexByRow[i]=t,this.rowByVarIndex[t]=i,this.colByVarIndex[t]=-1,this.height+=1},i.default.prototype.removeConstraint=function(t){var e=t.index,i=this.height-1,r=this._putInBase(e),s=this.matrix[i];this.matrix[i]=this.matrix[r],this.matrix[r]=s,this.varIndexByRow[r]=this.varIndexByRow[i],this.varIndexByRow[i]=-1,this.rowByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.slack.index=-1,--this.height},i.default.prototype.addVariable=function(t){var e=this.height-1,i=this.width,r=!0===this.model.isMinimization?-t.cost:t.cost,s=t.priority,a=this.optionalObjectives.length;if(0<a)for(let t=0;t<a;t+=1)this.optionalObjectives[t].reducedCosts[i]=0;0===s?this.matrix[0][i]=r:(this.setOptionalObjective(s,i,r),this.matrix[0][i]=0);for(let t=1;t<=e;t+=1)this.matrix[t][i]=0;s=t.index;this.varIndexByCol[i]=s,this.rowByVarIndex[s]=-1,this.colByVarIndex[s]=i,this.width+=1},i.default.prototype.removeVariable=function(t){var e=t.index,i=this._takeOutOfBase(e),r=this.width-1;if(i!==r){var s=this.height-1;for(let t=0;t<=s;t+=1){var a=this.matrix[t];a[i]=a[r]}var n=this.optionalObjectives.length;if(0<n)for(let t=0;t<n;t+=1){var o=this.optionalObjectives[t].reducedCosts;o[i]=o[r]}var l=this.varIndexByCol[r];this.varIndexByCol[i]=l,this.colByVarIndex[l]=i}this.varIndexByCol[r]=-1,this.colByVarIndex[e]=-1,this.availableIndexes[this.availableIndexes.length]=e,t.index=-1,--this.width}},{"./Tableau":6}],12:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},r=(Object.defineProperty(i,"__esModule",{value:!0}),i.Tableau=void 0,t("./simplex"),t("./cuttingStrategies"),t("./dynamicModification"),t("./log"),t("./backup"),t("./branchingStrategies"),t("./integerProperties"),t("./branchAndCut"),r(t("./Tableau")));i.Tableau=r.default,i.default=r.default},{"./Tableau":6,"./backup":7,"./branchAndCut":8,"./branchingStrategies":9,"./cuttingStrategies":10,"./dynamicModification":11,"./integerProperties":13,"./log":14,"./simplex":15}],13:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=(Object.defineProperty(i,"__esModule",{value:!0}),r(t("./Tableau")));i.default.prototype.countIntegerValues=function(){let e,i=0;for(let t=1;t<this.height;t+=1){var r;null!=(e=this.variablesPerIndex[this.varIndexByRow[t]])&&e.isInteger&&(r=this.matrix[t][this.rhsColumn],(r-=Math.floor(r))<this.precision)&&-r<this.precision&&(i+=1)}return i},i.default.prototype.isIntegral=function(){var e=this.model.integerVariables,i=e.length;for(let t=0;t<i;t++){var r=this.rowByVarIndex[e[t].index];if(-1!==r){r=this.matrix[r][this.rhsColumn];if(Math.abs(r-Math.round(r))>this.precision)return!1}}return!0},i.default.prototype.computeFractionalVolume=function(e){let i,r=-1;for(let t=1;t<this.height;t+=1)if(null!=(i=this.variablesPerIndex[this.varIndexByRow[t]])&&i.isInteger){var s=this.matrix[t][this.rhsColumn],s=Math.abs(s);if(Math.min(s-Math.floor(s),Math.floor(s+1))<this.precision){if(!e)return 0}else-1===r?r=s:r*=s}return-1===r?0:r}},{"./Tableau":6}],14:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),r(t("./Tableau")).default.prototype.log=function(t,e){console.log("****",t,"****"),console.log("Nb Variables",this.width-1),console.log("Nb Constraints",this.height-1),console.log("Basic Indexes",this.varIndexByRow),console.log("Non Basic Indexes",this.varIndexByCol),console.log("Rows",this.rowByVarIndex),console.log("Cols",this.colByVarIndex);let i="";var r=[" "];let s,a,n,o,l,h;for(a=1;a<this.width;a+=1){n=this.varIndexByCol[a];var u=this.variablesPerIndex[n],u=(o=void 0===u?"c"+n:u.id).length;l=" ",h="\t",5<u?l+=" ":h+="\t",r[a]=l,i+=h+o}console.log(i);let d;var c=this.matrix[this.costRowIndex];let f="\t";for(s=1;s<this.width;s+=1)d="\t",f=(f=(f+=d)+r[s])+c[s].toFixed(5);d="\t",f+=d+r[0]+c[0].toFixed(5),console.log(f+"\tZ");for(let e=1;e<this.height;e+=1){var v=this.matrix[e];let t="\t";for(a=1;a<this.width;a+=1)d="\t",t+=d+r[a]+v[a].toFixed(5);d="\t",t+=d+r[0]+v[0].toFixed(5),n=this.varIndexByRow[e];var p=this.variablesPerIndex[n];o=void 0===p?"c"+n:p.id,console.log(t+"\t"+o)}console.log("");var b=this.optionalObjectives.length;if(0<b){console.log("    Optional objectives:");for(let e=0;e<b;e+=1){var x=this.optionalObjectives[e].reducedCosts;let t="";for(s=1;s<this.width;s+=1)d=x[s]<0?"":" ",t=(t=(t+=d)+r[s])+x[s].toFixed(5);d=x[0]<0?"":" ",t+=d+r[0]+x[0].toFixed(5),console.log(t+" z"+e)}}return console.log("Feasible?",this.feasible),console.log("evaluation",this.evaluation),this}},{"./Tableau":6}],15:[function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},i=(Object.defineProperty(i,"__esModule",{value:!0}),r(t("./Tableau")));i.default.prototype.simplex=function(){return this.bounded=!0,this.phase1(),!0===this.feasible&&this.phase2(),this},i.default.prototype.phase1=function(){var t=this.model.checkForCycles,a=[],n=this.matrix,o=this.rhsColumn,l=this.width-1,h=this.height-1;let u,d=0;for(;;){let e=0,i=-this.precision;for(let t=1;t<=h;t++){u=!0===this.unrestrictedVars[this.varIndexByRow[t]];var c=n[t][o];c<i&&(i=c,e=t)}if(0===e)return this.feasible=!0,d;let r=0,s=-1/0;var f=n[0],v=n[e];for(let t=1;t<=l;t++){var p=v[t];((u=!0===this.unrestrictedVars[this.varIndexByCol[t]])||p<-this.precision)&&(p=-f[t]/p,s<p)&&(s=p,r=t)}if(0===r)return this.feasible=!1,d;if(t){a.push([this.varIndexByRow[e],this.varIndexByCol[r]]);var b=this.checkForCycles(a);if(0<b.length)return this.model.messages.push("Cycle in phase 1"),this.model.messages.push("Start :"+b[0]),this.model.messages.push("Length :"+b[1]),this.feasible=!1,d}this.pivot(e,r),d+=1}},i.default.prototype.phase2=function(){var t=this.model.checkForCycles,n=[],o=this.matrix,l=this.rhsColumn,h=this.width-1,u=this.height-1,d=this.precision,c=this.optionalObjectives.length;let f=null,v=0,p,b;for(;;){var x=o[this.costRowIndex];0<c&&(f=[]);let e=0,i=d,r=!1;for(let t=1;t<=h;t++)p=x[t],b=!0===this.unrestrictedVars[this.varIndexByCol[t]],0<c&&-d<p&&p<d?null!=f&&f.push(t):b&&p<0?-p>i&&(i=-p,e=t,r=!0):p>i&&(i=p,e=t,r=!1);if(0<c){let t=0;for(;0===e&&f&&0<f.length&&t<c;){var m=[],y=this.optionalObjectives[t].reducedCosts;i=d;for(let t=0;t<f.length;t++){var I=f[t];p=y[I],b=!0===this.unrestrictedVars[this.varIndexByCol[I]],-d<p&&p<d?m.push(I):b&&p<0?-p>i&&(i=-p,e=I,r=!0):p>i&&(i=p,e=I,r=!1)}f=m,t+=1}}if(0===e)return this.setEvaluation(),this.simplexIters+=1,v;let s=0,a=1/0;this.varIndexByRow;for(let t=1;t<=u;t++){var g=o[t],w=g[l],g=g[e];if(!(-d<g&&g<d)){if(0<g&&w<d&&-d<w){a=0,s=t;break}w=r?-w/g:w/g;d<w&&a>w&&(a=w,s=t)}}if(a===1/0)return this.evaluation=-1/0,this.bounded=!1,this.unboundedVarIndex=this.varIndexByCol[e],v;if(t){n.push([this.varIndexByRow[s],this.varIndexByCol[e]]);var _=this.checkForCycles(n);if(0<_.length)return this.model.messages.push("Cycle in phase 2"),this.model.messages.push("Start :"+_[0]),this.model.messages.push("Length :"+_[1]),this.feasible=!1,v}this.pivot(s,e),v+=1}};let m=[];i.default.prototype.pivot=function(e,i){var r=this.matrix,s=r[e][i],a=this.height-1,n=this.width-1,t=this.varIndexByRow[e],o=this.varIndexByCol[i],l=(this.varIndexByRow[e]=o,this.varIndexByCol[i]=t,this.rowByVarIndex[o]=e,this.rowByVarIndex[t]=-1,this.colByVarIndex[o]=-1,this.colByVarIndex[t]=i,r[e]);let h=0;for(let t=0;t<=n;t++)-1e-16<=l[t]&&l[t]<=1e-16?l[t]=0:(l[t]/=s,m[h]=t,h+=1);l[i]=1/s;let u,d,c;for(let t=0;t<=a;t++)if(t!==e&&!(-1e-16<=r[t][i]&&r[t][i]<=1e-16)){var f=r[t];if(-1e-16<=(u=f[i])&&u<=1e-16)0!==u&&(f[i]=0);else{for(d=0;d<h;d++){var v=m[d];-1e-16<=(c=l[v])&&c<=1e-16?0!==c&&(l[v]=0):f[v]=f[v]-u*c}f[i]=-u/s}}var p=this.optionalObjectives.length;if(0<p)for(let t=0;t<p;t+=1){var b=this.optionalObjectives[t].reducedCosts;if(0!==(u=b[i])){for(d=0;d<h;d++){var x=m[d];0!==(c=l[x])&&(b[x]=b[x]-u*c)}b[i]=-u/s}}},i.default.prototype.checkForCycles=function(s){for(let r=0;r<s.length-1;r++)for(let i=r+1;i<s.length;i++){var t=s[r],e=s[i];if(t[0]===e[0]&&t[1]===e[1]){if(i-r>s.length-i)break;let e=!0;for(let t=1;t<i-r;t++){var a=s[r+t],n=s[i+t];if(a[0]!==n[0]||a[1]!==n[1]){e=!1;break}}if(e)return[r,i-r]}}return[]}},{"./Tableau":6}],16:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0}),i.CleanObjectiveAttributes=function(t){let e,i,r;{if("string"==typeof t.optimize){if(t.constraints[t.optimize]){for(i in e=Math.random(),t.variables)t.variables[i][t.optimize]&&(t.variables[i][e]=t.variables[i][t.optimize]);t.constraints[e]=t.constraints[t.optimize],delete t.constraints[t.optimize]}}else for(r in t.optimize)if(t.constraints[r])if("equal"===t.constraints[r])delete t.optimize[r];else{for(i in e=Math.random(),t.variables)t.variables[i][r]&&(t.variables[i][e]=t.variables[i][r]);t.constraints[e]=t.constraints[r],delete t.constraints[r]}return t}}},{}],17:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Numeral=i.Equality=i.Constraint=i.Term=i.SlackVariable=i.IntegerVariable=i.Variable=void 0,i.createRelaxationVariable=o;class r{constructor(t,e,i,r){this.id=t,this.cost=e,this.index=i,this.value=0,this.priority=r}}i.Variable=r;class s extends r{constructor(t,e,i,r){super(t,e,i,r),this.isInteger=!0}}i.IntegerVariable=s;class a extends r{constructor(t,e){super(t,0,e,0),this.isSlack=!0}}i.SlackVariable=a;class n{constructor(t,e){this.variable=t,this.coefficient=e}}function o(t,e,i){return 0===i||"required"===i?null:(e=void 0===e?1:e,i=void 0===i?1:i,e=!1===t.isMinimization?-e:e,t.addVariable(e,"r"+t.relaxationIndex++,!1,!1,i))}i.Term=n;i.Constraint=class{constructor(t,e,i,r){this.slack=new a("s"+i,i),this.index=i,this.model=r,this.rhs=t,this.isUpperBound=e,this.terms=[],this.termsByVarIndex={},this.relaxation=null}addTerm(t,e){var i,r=e.index,s=this.termsByVarIndex[r];return void 0===s?(i=new n(e,t),this.termsByVarIndex[r]=i,this.terms.push(i),r=!0===this.isUpperBound?-t:t,this.model.updateConstraintCoefficient(this,e,r)):(i=s.coefficient+t,this.setVariableCoefficient(i,e)),this}removeTerm(t){return this}setRightHandSide(e){if(e!==this.rhs){let t=e-this.rhs;!0===this.isUpperBound&&(t=-t),this.rhs=e,this.model.updateRightHandSide(this,t)}return this}setVariableCoefficient(e,i){var r=i.index;if(-1!==r){r=this.termsByVarIndex[r];if(void 0===r)this.addTerm(e,i);else if(e!==r.coefficient){let t=e-r.coefficient;!0===this.isUpperBound&&(t=-t),r.coefficient=e,this.model.updateConstraintCoefficient(this,i,t)}return this}console.warn("[Constraint.setVariableCoefficient] Trying to change coefficient of inexistant variable.")}relax(t,e){this.relaxation=o(this.model,t,e),this._relax(this.relaxation)}_relax(t){null!==t&&(this.isUpperBound?this.setVariableCoefficient(-1,t):this.setVariableCoefficient(1,t))}};i.Equality=class{constructor(t,e){this.isEquality=!0,this.upperBound=t,this.lowerBound=e,this.model=t.model,this.rhs=t.rhs,this.relaxation=null}addTerm(t,e){return this.upperBound.addTerm(t,e),this.lowerBound.addTerm(t,e),this}removeTerm(t){return this.upperBound.removeTerm(t),this.lowerBound.removeTerm(t),this}setRightHandSide(t){this.upperBound.setRightHandSide(t),this.lowerBound.setRightHandSide(t),this.rhs=t}relax(t,e){this.relaxation=o(this.model,t,e),this.upperBound.relaxation=this.relaxation,this.upperBound._relax(this.relaxation),this.lowerBound.relaxation=this.relaxation,this.lowerBound._relax(this.relaxation)}};i.Numeral=class{constructor(t){this.value=t}}},{}],18:[function(t,e,i){var s,a=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var s=Object.getOwnPropertyDescriptor(e,i);s&&("get"in s?e.__esModule:!s.writable&&!s.configurable)||(s={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,s)}:function(t,e,i,r){t[r=void 0===r?i:r]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||(s=function(t){return(s=Object.getOwnPropertyNames||function(t){var e,i=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[i.length]=e);return i})(t)},function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i=s(t),r=0;r<i.length;r++)"default"!==i[r]&&a(e,t,i[r]);return n(e,t),e}),o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};let l=o(t("./Tableau")),h=o(t("./Model")),u=(t("./Tableau/branchAndCut"),r(t("./expressions"))),d=r(t("./Validation")),c=o(t("./External/main")),f=o(t("./Polyopt")),v=o(t("./External/lpsolve/Reformat"));let p=new class{constructor(){this.Model=h.default,this.branchAndCut=l.default.prototype.branchAndCut,this.Constraint=u.Constraint,this.Variable=u.Variable,this.Numeral=u.Numeral,this.Term=u.Term,this.Tableau=l.default,this.lastSolvedModel=null,this.External=c.default,this.ReformatLP=v.default}Solve(t,e,i,r){if(r)for(var s in d){s=d[s];"function"==typeof s&&(t=s(t))}if(!t)throw new Error("Solver requires a model to operate on");if("object"==typeof t.optimize&&1<Object.keys(t.optimize).length)return(0,f.default)(this,t);if(t.external){r=Object.keys(c.default),r=JSON.stringify(r);if(null==(a=t.external)||!a.solver)throw new Error("The model you provided has an 'external' object that doesn't have a solver attribute. Use one of the following:"+r);var a=null==(a=t.external)?void 0:a.solver;if(c.default[a])return c.default[a].solve(t);throw new Error("No support (yet) for "+a+". Please use one of these instead:"+r)}let n,o=(n=t instanceof h.default==!1?new h.default(e).loadJson(t):t).solve();if(this.lastSolvedModel=n,o.solutionSet=o.generateSolutionSet(),i)return o;{let e={feasible:o.feasible,result:o.evaluation,bounded:o.bounded};return o._tableau.__isIntegral&&(e.isIntegral=!0),Object.keys(o.solutionSet).forEach(function(t){0!==o.solutionSet[t]&&(e[t]=o.solutionSet[t])}),e}}MultiObjective(t){return(0,f.default)(this,t)}};"function"==typeof define?define([],function(){return p}):"object"==typeof window?window.solver=p:"object"==typeof self&&(self.solver=p),e.exports=p},{"./External/lpsolve/Reformat":1,"./External/main":19,"./Model":2,"./Polyopt":3,"./Tableau":12,"./Tableau/branchAndCut":8,"./Validation":16,"./expressions":17}],19:[function(t,e,i){Object.defineProperty(i,"__esModule",{value:!0});i.default={}},{}]},{},[18]);
//# sourceMappingURL=solver.js.map